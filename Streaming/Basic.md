### 스트리밍이 주목 받는 이유
1. 기업에서 시기적절한 통찰력의 중요성이 높아짐
2. 무하한 데이터셋이 보편화됨
3. 실시간으로 처리 시 부하 부담이 낮아지고 예측 가능한 시스템 자원 소비
  
### 스트리밍이란?
스트링밍이란 무한 데이터셋을 염두하고 설계된 데이터 처리 엔진의 유형  
스트리밍에는 마이크로배치도 포함됨
마이크로배치는 무한 데이터를 처리하기 위해 배치 엔진을 반복해서 실행하는 시스템(Spark Streaming 방식)
  
### 데이터셋
데이터셋은 크게 기수(cardinality)와 구성(constitution)이 중요한 요소
- 기수 : 데이터셋이 무한인지 유한인지 즉, 크기
  - 유한 데이터 : 크기가 유한한 데이터셋
  - 무한 데이터 : 크기가 무한인 데이터셋
  
- 구성 : 테이블인지 스트림인 즉, 표현 
  - 테이블
    - 특정 시점의 데이터셋의 전체적인 뷰
    - 특정 시점 데이터의 스냅샷
    - 변경 가능(inser, update, delete)
    - 주로 RDBMS에서 사용
  - 스트림
    - 시간에 따라 변화하는 데이터세의 요소 단위 뷰
    - 들어오는 데이터의 흐름
    - 한 번 기록된 데이터는 변경x
    - 주로 맵리듀스에서 사용
  
### 람다 아키텍처
람다 아키텍처는 동일한 계산을 수행하는 배치 처리와 스트리밍 처리를 함께 운영하여 대규모 처리를 위한 아키텍처 
스트리밍 처리 시 정확성과 일관성 문제가 발생
[정확성과 일관성이 떨어지는 이유]
1. 서로 다른 경로에서 데이터 처리
   - 배치와 스트리밍이 서로 다른 시스템과 코드로 처리하므로 결과의 차이가 발생할 수 있음
2. 이중 차리 문제
   - 동일한 데이터를 두개의 경로에서 처리하기 때문에 동일한 로직을 두 번 구현함
해당 문제를 대안으로 카파 아키텍처가 나옴
  
### 정확성과 일관성
- 스트리밍 처리에서 중요한 부분은 정확성이 필요
- 정확성을 위해서는 체크포인트가 중요
- 강한 일관성은 exactly-once가 필수
- exactly-once란, 데이터 처리 프레임워크가 일관성을 보장한다라는 의미
- 일관성 보장
  - 최대 한 번 처리(at-most-once), 최소 한 번 처리(at-least-once), 정확히 한 번 처리(exactly-once)로 분류됨
  - 데이터를 처리하기 위한 시도 횟수가 아닌 출력에서 관찰된 영향을 말함
  
### 이벤트 시간(Event Time)과 처리 시간(Processing Time)
- 이벤트 시간 : 데이터가 실제로 발생한 시간
- 처리 시간 : 처리 시스템에서 관측한 시간
이상적으로는 데이터가 처리 시스템(Flink, Beam,..)에 데이터 생성 시점 기준으로 순차적으로 들어오면 좋겠지만 네트워크, 시스템 로직 등으로 현실은 그렇지 않음  
![Flink APIs](../img/event_processing_time.png)  
처리 시간과 이벤트 시간 간의 외곡이 발생  
  
따라서 이벤트 시간이 중요한경우(ex. 이상탐지)와 중요하지 않는 경우 처리 방식이 다를 수 있음  
이벤트 시간이 중요한 경우 Window, Watermark가 중요  
  
